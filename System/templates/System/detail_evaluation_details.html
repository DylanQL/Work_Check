{% extends 'System/base.html' %}
{% load static %}
{% block title %}Detalle de Evaluation Details{% endblock %}
{% block content %}
<div class="container">
    <div class="row mb-4">
        <div class="col-12">
            <div class="d-flex align-items-center">
                <h2 class="mb-0"><i class="fas fa-list-alt me-2"></i>Detalle de Evaluation Details</h2>
            </div>
            <hr class="mt-3">
            <div class="d-flex justify-content-end">
                <span class="badge bg-primary">ID: {{ details.id }}</span>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-10 mx-auto">
            <!-- Sección Resultados (R) -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-light">
                    <h5 class="card-title mb-0"><i class="fas fa-chart-line me-2"></i>Resultados (R)</h5>
                </div>
                <div class="card-body">
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Criterio</th>
                                            <th class="text-center">Puntaje</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>R1</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.R1 >= 4 %}bg-success{% elif details.R1 >= 3 %}bg-info{% elif details.R1 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.R1 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>R2</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.R2 >= 4 %}bg-success{% elif details.R2 >= 3 %}bg-info{% elif details.R2 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.R2 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>R3</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.R3 >= 4 %}bg-success{% elif details.R3 >= 3 %}bg-info{% elif details.R3 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.R3 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>R4</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.R4 >= 4 %}bg-success{% elif details.R4 >= 3 %}bg-info{% elif details.R4 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.R4 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>R5</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.R5 >= 4 %}bg-success{% elif details.R5 >= 3 %}bg-info{% elif details.R5 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.R5 }}
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-2 text-muted">Comentarios (R)</h6>
                                    <p class="card-text">{{ details.R_comments|default:"Sin comentarios" }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección Liderazgo (L) -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-light">
                    <h5 class="card-title mb-0"><i class="fas fa-users me-2"></i>Liderazgo (L)</h5>
                </div>
                <div class="card-body">
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Criterio</th>
                                            <th class="text-center">Puntaje</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>L1</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.L1 >= 4 %}bg-success{% elif details.L1 >= 3 %}bg-info{% elif details.L1 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.L1 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>L2</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.L2 >= 4 %}bg-success{% elif details.L2 >= 3 %}bg-info{% elif details.L2 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.L2 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>L3</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.L3 >= 4 %}bg-success{% elif details.L3 >= 3 %}bg-info{% elif details.L3 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.L3 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>L4</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.L4 >= 4 %}bg-success{% elif details.L4 >= 3 %}bg-info{% elif details.L4 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.L4 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>L5</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.L5 >= 4 %}bg-success{% elif details.L5 >= 3 %}bg-info{% elif details.L5 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.L5 }}
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-2 text-muted">Comentarios (L)</h6>
                                    <p class="card-text">{{ details.L_comments|default:"Sin comentarios" }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección Habilidades (H) -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-light">
                    <h5 class="card-title mb-0"><i class="fas fa-tools me-2"></i>Habilidades (H)</h5>
                </div>
                <div class="card-body">
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Criterio</th>
                                            <th class="text-center">Puntaje</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>H1</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.H1 >= 4 %}bg-success{% elif details.H1 >= 3 %}bg-info{% elif details.H1 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.H1 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>H2</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.H2 >= 4 %}bg-success{% elif details.H2 >= 3 %}bg-info{% elif details.H2 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.H2 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>H3</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.H3 >= 4 %}bg-success{% elif details.H3 >= 3 %}bg-info{% elif details.H3 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.H3 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>H4</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.H4 >= 4 %}bg-success{% elif details.H4 >= 3 %}bg-info{% elif details.H4 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.H4 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>H5</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.H5 >= 4 %}bg-success{% elif details.H5 >= 3 %}bg-info{% elif details.H5 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.H5 }}
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-2 text-muted">Comentarios (H)</h6>
                                    <p class="card-text">{{ details.H_comments|default:"Sin comentarios" }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección Experiencia (E) -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-light">
                    <h5 class="card-title mb-0"><i class="fas fa-briefcase me-2"></i>Experiencia (E)</h5>
                </div>
                <div class="card-body">
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Criterio</th>
                                            <th class="text-center">Puntaje</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>E1</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.E1 >= 4 %}bg-success{% elif details.E1 >= 3 %}bg-info{% elif details.E1 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.E1 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>E2</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.E2 >= 4 %}bg-success{% elif details.E2 >= 3 %}bg-info{% elif details.E2 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.E2 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>E3</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.E3 >= 4 %}bg-success{% elif details.E3 >= 3 %}bg-info{% elif details.E3 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.E3 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>E4</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.E4 >= 4 %}bg-success{% elif details.E4 >= 3 %}bg-info{% elif details.E4 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.E4 }}
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-2 text-muted">Comentarios (E)</h6>
                                    <p class="card-text">{{ details.E_comments|default:"Sin comentarios" }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección Competencias (C) -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-light">
                    <h5 class="card-title mb-0"><i class="fas fa-award me-2"></i>Competencias (C)</h5>
                </div>
                <div class="card-body">
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Criterio</th>
                                            <th class="text-center">Puntaje</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>C1</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.C1 >= 4 %}bg-success{% elif details.C1 >= 3 %}bg-info{% elif details.C1 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.C1 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>C2</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.C2 >= 4 %}bg-success{% elif details.C2 >= 3 %}bg-info{% elif details.C2 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.C2 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>C3</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.C3 >= 4 %}bg-success{% elif details.C3 >= 3 %}bg-info{% elif details.C3 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.C3 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>C4</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.C4 >= 4 %}bg-success{% elif details.C4 >= 3 %}bg-info{% elif details.C4 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.C4 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>C5</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.C5 >= 4 %}bg-success{% elif details.C5 >= 3 %}bg-info{% elif details.C5 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.C5 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>C6</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.C6 >= 4 %}bg-success{% elif details.C6 >= 3 %}bg-info{% elif details.C6 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.C6 }}
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-2 text-muted">Comentarios (C)</h6>
                                    <p class="card-text">{{ details.C_comments|default:"Sin comentarios" }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección Métricas (M) -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-light">
                    <h5 class="card-title mb-0"><i class="fas fa-tachometer-alt me-2"></i>Métricas (M)</h5>
                </div>
                <div class="card-body">
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Criterio</th>
                                            <th class="text-center">Puntaje</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>M1</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.M1 >= 4 %}bg-success{% elif details.M1 >= 3 %}bg-info{% elif details.M1 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.M1 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>M2</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.M2 >= 4 %}bg-success{% elif details.M2 >= 3 %}bg-info{% elif details.M2 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.M2 }}
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-2 text-muted">Comentarios (M)</h6>
                                    <p class="card-text">{{ details.M_comments|default:"Sin comentarios" }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección Valores (V) -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-light">
                    <h5 class="card-title mb-0"><i class="fas fa-heart me-2"></i>Valores (V)</h5>
                </div>
                <div class="card-body">
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Criterio</th>
                                            <th class="text-center">Puntaje</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>V1</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.V1 >= 4 %}bg-success{% elif details.V1 >= 3 %}bg-info{% elif details.V1 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.V1 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>V2</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.V2 >= 4 %}bg-success{% elif details.V2 >= 3 %}bg-info{% elif details.V2 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.V2 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>V3</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.V3 >= 4 %}bg-success{% elif details.V3 >= 3 %}bg-info{% elif details.V3 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.V3 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>V4</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.V4 >= 4 %}bg-success{% elif details.V4 >= 3 %}bg-info{% elif details.V4 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.V4 }}
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>V5</td>
                                            <td class="text-center">
                                                <span class="badge {% if details.V5 >= 4 %}bg-success{% elif details.V5 >= 3 %}bg-info{% elif details.V5 >= 2 %}bg-warning{% else %}bg-danger{% endif %}">
                                                    {{ details.V5 }}
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-2 text-muted">Comentarios (V)</h6>
                                    <p class="card-text">{{ details.V_comments|default:"Sin comentarios" }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-center mt-4 mb-5">
                <a href="{% url 'list_permanent_assignments' %}" class="btn btn-primary">
                    <i class="fas fa-arrow-left me-2"></i>Volver al Histórico
                </a>
            </div>
        </div>
    </div>
</div>

<style>
    .card {
        border-radius: 8px;
        overflow: hidden;
        border: none;
        margin-bottom: 20px;
    }
    
    .card-header {
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        padding: 15px 20px;
    }
    
    .btn-primary {
        background-color: #1f3a5f;
        border-color: #1f3a5f;
    }
    
    .btn-primary:hover {
        background-color: #152a47;
        border-color: #152a47;
    }
    
    .bg-primary {
        background-color: #1f3a5f !important;
    }
    
    .badge {
        font-size: 1rem;
        font-weight: 500;
        padding: 0.5em 0.8em;
        min-width: 40px;
    }
    
    .table thead {
        background-color: #f8f9fa;
    }
    
    .table tbody tr:hover {
        background-color: rgba(31, 58, 95, 0.05);
    }
    
    /* Estilos para mejorar la visualización en dispositivos móviles */
    @media (max-width: 767.98px) {
        .badge {
            font-size: 0.85rem;
            min-width: 30px;
        }
        
        .table {
            font-size: 0.9rem;
        }
    }
</style>
{% endblock %}
